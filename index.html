<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b1020" />
  <meta name="color-scheme" content="dark light" />

  <title>Giveaway Linux â€” 1 logiciel + 1 jeu gratuits chaque jour</title>
  <meta name="description" content="Chaque jour : 1 logiciel + 1 jeu gratuits pour Linux â€” liens officiels uniquement. Archives, favoris locaux, zÃ©ro tracking." />
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />
  <link rel="canonical" href="https://zlormann.github.io/Giveaway-Linux/" />

  <!-- RSS detection -->
  <link rel="alternate" type="application/rss+xml" title="Giveaway Linux â€” RSS" href="./rss.xml" />
  <link rel="alternate" type="application/atom+xml" title="Giveaway Linux â€” RSS" href="./rss.xml" />
  <atom:link xmlns:atom="http://www.w3.org/2005/Atom" rel="self" type="application/rss+xml" href="https://zlormann.github.io/Giveaway-Linux/rss.xml" />

  <!-- Open Graph -->
  <meta property="og:site_name" content="Giveaway Linux" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Giveaway Linux â€” 1 logiciel + 1 jeu gratuits chaque jour" />
  <meta property="og:description" content="Liens officiels uniquement. Archives & favoris locaux. Sans tracking." />
  <meta property="og:url" content="https://zlormann.github.io/Giveaway-Linux/" />
  <meta property="og:image" content="https://zlormann.github.io/Giveaway-Linux/assets/logo.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Giveaway Linux â€” 1 logiciel + 1 jeu gratuits chaque jour" />
  <meta name="twitter:description" content="Liens officiels uniquement. Archives & favoris locaux. Sans tracking." />
  <meta name="twitter:image" content="https://zlormann.github.io/Giveaway-Linux/assets/logo.png" />

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Giveaway Linux",
    "url":"https://zlormann.github.io/Giveaway-Linux/",
    "inLanguage":"fr",
    "description":"Chaque jour : 1 logiciel + 1 jeu gratuits pour Linux (liens officiels uniquement)."
  }
  </script>

  <link rel="icon" href="./assets/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
  <div class="wrap">
    <header class="topbar">
      <div class="brand">
        <img src="./assets/logo.svg" alt="Logo Giveaway Linux" width="36" height="36" />
        <div>
          <h1>Giveaway Linux</h1>
          <p>ğŸ 1 logiciel + 1 jeu gratuits â€¢ liens officiels</p>
        </div>
      </div>

      <nav class="nav">
        <a class="tab active" href="./index.html" aria-current="page">ğŸ  Accueil</a>
        <a class="tab" href="./discover.html">ğŸ² DÃ©couvrir</a>
        <a class="tab" href="./archive.html">ğŸ—“ Archives</a>
        <a class="tab" href="./favorites.html">â­ Favoris</a>
        <a class="tab" href="./about.html">â„¹ï¸ Ã€ propos</a>
        <a class="tab" href="./submit.html">â• Proposer</a>
        <a class="tab" href="./rss.xml">ğŸ“¡ RSS</a>
      </nav>
    </header>

    <section class="section">
      <div class="head">
        <h2>ğŸ SÃ©lection du jour</h2>
        <div class="muted" id="todayMeta">Chargementâ€¦</div>
      </div>
      <div class="body">
        <div id="todayError"></div>

        <div class="grid2" id="todayGrid" style="display:none;">
          <article class="card">
            <div class="inner">
              <div class="muted"><b>ğŸ§© Logiciel</b></div>
              <h3 id="softName">â€”</h3>
              <div class="tags" id="softTags"></div>
              <div class="links" id="softLinks"></div>
            </div>
          </article>

          <article class="card">
            <div class="inner">
              <div class="muted"><b>ğŸ® Jeu</b></div>
              <h3 id="gameName">â€”</h3>
              <div class="tags" id="gameTags"></div>
              <div class="links" id="gameLinks"></div>
            </div>
          </article>
        </div>

        <div style="height:12px"></div>

        <div class="success">
          âœ… Favoris locaux â€¢ âœ… Aucun tracking â€¢ âœ… Liens officiels uniquement
        </div>

        <div style="height:12px"></div>
        <div class="links">
          <a class="btn primary" href="./discover.html">ğŸ² DÃ©couvrir au hasard</a>
          <a class="btn" href="./archive.html">ğŸ—“ Voir les archives</a>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="head">
        <h2>ğŸ” Recherche (rapide)</h2>
        <div class="muted">Sans backend</div>
      </div>
      <div class="body">
        <input id="q" class="input" placeholder="Ex: gimp, inkscape, supertuxkartâ€¦" />
        <div style="height:10px"></div>
        <div id="searchOut" class="note">Tape un nom pour chercher dans les fichiers data (software/games).</div>
      </div>
    </section>

    <footer class="footer">
      Â© 2026 Giveaway Linux â€¢ <a href="./sitemap.xml">sitemap</a>
    </footer>
  </div>

  <script>
    const BASE = new URL("./", location.href);
    const esc = s => String(s ?? "")
      .replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;");

    function addLink(container, label, url){
      if(!url) return;
      const a = document.createElement("a");
      a.className = "btn";
      a.href = url;
      a.target = "_blank";
      a.rel = "noopener";
      a.textContent = label;
      container.appendChild(a);
    }
    function addTag(container, label){
      if(!label) return;
      const s = document.createElement("span");
      s.className = "tag";
      s.textContent = label;
      container.appendChild(s);
    }

    async function loadJSON(path){
      const r = await fetch(new URL(path, BASE), {cache:"no-store"});
      if(!r.ok) throw new Error("HTTP " + r.status + " : " + path);
      return r.json();
    }

    async function loadToday(){
      try{
        const picks = await loadJSON("data/picks.json");
        const soft = await loadJSON("data/software.json");
        const games = await loadJSON("data/games.json");

        const cur = picks?.current;
        if(!cur) throw new Error("picks.json ne contient pas current");

        document.getElementById("todayMeta").textContent =
          `Ã‰dition #${cur.issue || "â€”"} â€¢ ${cur.date || "â€”"}`;

        const s = soft.find(x => x.id === cur.software_id) || null;
        const g = games.find(x => x.id === cur.game_id) || null;

        if(!s || !g) throw new Error("IDs introuvables (software_id/game_id) dans data");

        document.getElementById("softName").textContent = s.name;
        document.getElementById("gameName").textContent = g.name;

        const softTags = document.getElementById("softTags");
        const gameTags = document.getElementById("gameTags");
        softTags.innerHTML = ""; gameTags.innerHTML = "";
        addTag(softTags, s.category || "Logiciel");
        addTag(gameTags, g.genre || "Jeu");

        const softLinks = document.getElementById("softLinks");
        const gameLinks = document.getElementById("gameLinks");
        softLinks.innerHTML = ""; gameLinks.innerHTML = "";
        addLink(softLinks, "â¬‡ TÃ©lÃ©charger logiciel", s.url || s.download_url || s.home_url);
        addLink(softLinks, "ğŸŒ Site officiel", s.home_url || s.url);
        addLink(gameLinks, "â¬‡ TÃ©lÃ©charger jeu", g.url || g.download_url || g.home_url);
        addLink(gameLinks, "ğŸŒ Site officiel", g.home_url || g.url);

        document.getElementById("todayGrid").style.display = "grid";
      }catch(err){
        document.getElementById("todayError").innerHTML =
          `<div class="danger">Erreur : ${esc(err.message || err)}</div>`;
        document.getElementById("todayMeta").textContent = "â€”";
      }
    }

    function searchIn(list, q){
      q = q.trim().toLowerCase();
      if(!q) return [];
      return list.filter(x => String(x.name||"").toLowerCase().includes(q));
    }

    async function initSearch(){
      const out = document.getElementById("searchOut");
      const qEl = document.getElementById("q");

      let soft = [], games = [];
      try{
        soft = await loadJSON("data/software.json");
        games = await loadJSON("data/games.json");
      }catch{
        out.className = "danger";
        out.textContent = "Impossible de charger data/software.json ou data/games.json";
        return;
      }

      qEl.addEventListener("input", () => {
        const q = qEl.value;
        if(!q.trim()){
          out.className = "note";
          out.textContent = "Tape un nom pour chercher dans les fichiers data (software/games).";
          return;
        }

        const s = searchIn(soft, q).slice(0,6);
        const g = searchIn(games, q).slice(0,6);

        if(s.length === 0 && g.length === 0){
          out.className = "note";
          out.textContent = "Aucun rÃ©sultat.";
          return;
        }

        out.className = "";
        out.innerHTML = `
          <div class="card"><div class="inner">
            <div class="muted"><b>RÃ©sultats</b></div>
            <div class="hr"></div>
            ${s.length ? `<div><b>ğŸ§© Logiciels</b></div>` : ""}
            ${s.map(x => `
              <div class="links">
                <span class="tag">${esc(x.category||"Logiciel")}</span>
                <span><b>${esc(x.name)}</b></span>
                <a class="btn" href="${esc(x.url || x.download_url || x.home_url)}" target="_blank" rel="noopener">TÃ©lÃ©charger</a>
              </div>
            `).join("")}
            ${g.length ? `<div style="height:10px"></div><div><b>ğŸ® Jeux</b></div>` : ""}
            ${g.map(x => `
              <div class="links">
                <span class="tag">${esc(x.genre||"Jeu")}</span>
                <span><b>${esc(x.name)}</b></span>
                <a class="btn" href="${esc(x.url || x.download_url || x.home_url)}" target="_blank" rel="noopener">TÃ©lÃ©charger</a>
              </div>
            `).join("")}
          </div></div>
        `;
      });
    }

    loadToday();
    initSearch();
  </script>
</body>
</html>
